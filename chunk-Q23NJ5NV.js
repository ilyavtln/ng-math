import{G as g,a as c,m as u,o as d,q as l,r as h,s as m,z as p}from"./chunk-EMGEALUY.js";var f=/(?:\$|\\\(|\\\[|\\begin\{.*?})/,x="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/startup.js",M={loader:{load:["output/svg","[tex]/require","[tex]/ams"]},tex:{inlineMath:[["$","$"]],packages:["base","require","ams"]},svg:{fontCache:"global"}},o=class{},j=e=>!!e?.match(f),v=e=>e?typeof e=="string"?e:e.latex??e.mathml??"":"",y=e=>e.replace(/<br \/>/gi,"<br/> ").replace(/[$]([\s\S]+?)[$]/gi,(a,r,t,i)=>r.includes("\\\\")&&!r.includes("\\begin")?`$\\begin{align*}${r}\\end{align*}$`:`$${r}$`);var C=(()=>{let a=class a{set mathjax(t){this.mathJaxExpressions=t}constructor(t){this.el=t,this.element=t.nativeElement}ngOnChanges(t){let i=t.mathjax;if(!i||i.currentValue===i.previousValue)return;let n=v(i.currentValue)+"";if(j(n)){let s=y(n);this.typeset(()=>{this.element.innerHTML=`<div class='jax-process'>${s}</div>`})}else this.element.innerHTML=n}typeset(t){return MathJax?.isReady?(MathJax.startup.promise=MathJax.startup.promise.then(()=>MathJax.typesetPromise(t())).catch(i=>console.log("Typeset failed: "+i.message)),MathJax.startup.promise):(this.element.innerHTML="<div></div>",MathJax.promise.then(()=>this.typeset(t)))}};a.\u0275fac=function(i){return new(i||a)(g(p))},a.\u0275dir=h({type:a,selectors:[["mathjax"],["","mathjax",""]],inputs:{mathjax:"mathjax"},features:[m]});let e=a;return e})(),$=(()=>{let a=class a{constructor(t){this.moduleConfig=t,this.addConfigToDocument(),this.addMatjaxToDocument()}addConfigToDocument(){let t="mathjax-config-script";if(document.getElementById(t))return;let n=c(c({},M),this.moduleConfig?.config??{}),s=document.createElement("script");s.id=t,s.type="text/javascript",s.text=`
      MathJax = ${JSON.stringify(n)};
      MathJax.isReady = false;
      MathJax.promise = new Promise(function (resolve, reject) {
        MathJax.startup = {
            ready() {
              MathJax.isReady = true;
              MathJax.startup.defaultReady();
              MathJax.startup.promise.then(() => resolve());
            }
        };
      });
    `,document.getElementsByTagName("head")[0].appendChild(s)}addMatjaxToDocument(){let t="mathjax-script";if(document.getElementById(t))return;let n=document.createElement("script");n.id=t,n.type="text/javascript",n.src=this.moduleConfig?.src??x,n.async=!0,document.getElementsByTagName("head")[0].appendChild(n)}static forRoot(t){return{ngModule:a,providers:[{provide:o,useValue:t??{}}]}}static forChild(){return{ngModule:a}}};a.\u0275fac=function(i){return new(i||a)(d(o))},a.\u0275mod=l({type:a}),a.\u0275inj=u({});let e=a;return e})();export{C as a,$ as b};
